package com.perdiguer.eypconf.forge;

import java.util.Date;

public class ForgeModule {
	
	public String uri;
	public String slug;
	public String name;
	public int downloads=0;
    public Date created_at=null;
    public Date updated_at=null;
    public Date deprecated_at=null;
    public Date deprecated_for=null;
    public Date superseded_by=null;
    public boolean supported=false;
    public ForgeUser owner;
    public String version;
    public String[] tags;
    public int validation_score=0;
    public String file_uri;
    public int file_size=0;
    public String file_md5;
    public int feedback_score=0;
    public String homepage_url;
    public String issues_url;
    //
    //    "readme": "# systemd ![status ready](https://img.shields.io/badge/status-ready-brightgreen.svg) ![doc completed](https://img.shields.io/badge/doc-completed-brightgreen.svg)\n\n#### Table of Contents\n\n1. [Overview](#overview)\n2. [Module Description](#module-description)\n3. [Setup](#setup)\n    * [What systemd affects](#what-systemd-affects)\n    * [Setup requirements](#setup-requirements)\n    * [Beginning with systemd](#beginning-with-systemd)\n4. [Usage](#usage)\n5. [Reference](#reference)\n5. [Limitations](#limitations)\n6. [Development](#development)\n    * [Contributing](#contributing)\n\n## Overview\n\nsystemd service support\n\n## Module Description\n\nbasic systemd support implemented:\n* service definitions (sys-v wrapper also available)\n* **logind.conf** (disables IPC deletion on user logout)\n\nFor systemd related questions please refer to:\n\n* [Service](https://www.freedesktop.org/software/systemd/man/systemd.service.html)\n* [Unit](https://www.freedesktop.org/software/systemd/man/systemd.exec.html)\n\n## Setup\n\n### What systemd affects\n\n- Creates service definitions: **/etc/systemd/system/${servicename}.service**\n- Manages **/etc/systemd/logind.conf**\n\n### Setup Requirements\n\nThis module requires pluginsync enabled\n\n### Beginning with systemd\n\nbasic example from eyp-kibana:\n\n```puppet\nsystemd::service { 'kibana':\n  execstart => \"${basedir}/${productname}/bin/kibana\",\n  require   => [ Class['systemd'], File[\"${basedir}/${productname}/config/kibana.yml\"] ],\n  before => Service['kibana'],\n}\n```\n\n## Usage\n\nadd service dependency:\n\n```puppet\nsystemd::service { 'oracleasm':\n  description       => 'Load oracleasm Modules',\n  after             => 'iscsi.service',\n  type              => 'oneshot',\n  remain_after_exit => true,\n  execstart         => '/usr/sbin/service oracleasm start_sysctl',\n  execstop          => '/usr/sbin/service oracleasm stop_sysctl',\n  execreload        => '/usr/sbin/service oracleasm restart_sysctl',\n}\n```\n\nenv_vars usage example:\n\n```puppet\nsystemd::service { 'tomcat7':\n  user        => 'tomcat',\n  group       => 'tomcat',\n  execstart   => '/apps/tomcat/bin/startup.sh',\n  execstop    => '/apps/tomcat/bin/startup.sh',\n  forking     => true,\n  description => 'Apache Tomcat Web Application Container',\n  after       => 'network.target',\n  restart     => 'no',\n  env_vars    => ['\"JAVA_OPTS=-Xms2048m -Xmx2048m -XX:MaxMetaspaceSize=512m\"',\n                  '\"CATALINA_PID=/apps/tomcat/logs/catalina.pid\"'],\n}\n```\n\nsystem-v compatibility mode:\n\nUse case: **eyp-mcaffee** uses the following to enable the ma service on CentOS 7\n\n```puppet\nsystemd::sysvwrapper { 'ma':\n  initscript => '/etc/init.d/ma',\n  notify     => Service['ma'],\n  before     => Service['ma'],\n}\n```\n\nThis creates the following on the system:\n\nsysted service definition:\n\n```\n# cat /etc/systemd/system/ma.service\n[Unit]\n\n[Service]\nExecStart=/bin/bash /etc/init.d/ma.sysvwrapper.wrapper start\nExecStop=/bin/bash /etc/init.d/ma.sysvwrapper.wrapper stop\nRestart=no\nStandardOutput=syslog\nStandardError=syslog\nSyslogIdentifier=ma\nUser=root\nGroup=root\nType=forking\nPIDFile=/var/run/ma.sysvwrapper.pid\n\n[Install]\nWantedBy=multi-user.target\n```\n\ncontrol script:\n```\n# cat /etc/init.d/ma.sysvwrapper.wrapper\n#!/bin/bash\n\n#\n# puppet managed file\n#\n\nPIDFILE=/var/run/ma.sysvwrapper.pid\n\ncase $1 in\n  start)\n    /etc/init.d/ma $@\n    sleep 1s;\n    /etc/init.d/ma.sysvwrapper.status &\n    echo $! > $PIDFILE\n\n    /etc/init.d/ma status\n    exit $?\n  ;;\n  *)\n    /etc/init.d/ma $@\n    exit $?\n  ;;\nesac\n```\n\nprocess checking ma status (to be able to report status to systemd):\n\n```\nps auxf\n(...)\nroot     27399  0.0  0.0 113120  1396 ?        S    Jan09   0:00 /bin/bash /etc/init.d/ma.sysvwrapper.status\nroot      7173  0.0  0.0 107896   608 ?        S    10:34   0:00  \\_ sleep 10m\n```\n\n## Reference\n\n### classes\n\n#### systemd\n\n* **removeipc**: IPC deletion on user logout (default: no)\n\n### defines\n\n#### systemd::service\n\n* **execstart**: command to start daemon\n* **execstop**: command to stop daemon (default: undef)\n* **execreload**: commands or scripts to be executed when the unit is reloaded (default: undef)\n* **restart**: restart daemon if crashes. Takes one of no, on-success, on-failure, on-abnormal, on-watchdog, on-abort, or always (default: always)\n* **user**: username to use (default: root)\n* **group**: group to use (default: root)\n* **servicename**: service name (default: resource's name)\n* **forking**: expect fork to background (default: false)\n* **pid_file**: PIDFile specifies a stable PID for the main process of the service (default: undef)\n* **description**: A meaningful description of the unit. This text is displayed for example in the output of the systemctl status command (default: undef)\n* **after**: Defines the order in which units are started (default: undef)\n* **remain_after_exit**: If set to True, the service is considered active even when all its processes exited. (default: undef)\n* **type**: Configures the unit process startup type that affects the functionality of ExecStart and related options (default: undef)\n* **env_vars**: array of environment variables (default: undef)\n* **wants**: A weaker version of Requires=. Units listed in this option will be started if the configuring unit is. However, if the listed units fail to start or cannot be added to the transaction, this has no impact on the validity of the transaction as a whole (default: [])\n* **before_units**: Configures ordering dependencies between units, for example, if a unit foo.service contains a setting Before=bar.service and both units are being started, bar.service's start-up is delayed until foo.service is started up (default: [])\n* **after_units**: Configures ordering dependencies between units. (default: [])\n* **requires**: Configures requirement dependencies on other units. If this unit gets activated, the units listed here will be activated as well. If one of the other units gets deactivated or its activation fails, this unit will be deactivated (default: [])\n* **conflicts**: A space-separated list of unit names. Configures negative requirement dependencies. If a unit has a Conflicts= setting on another unit, starting the former will stop the latter and vice versa (default: [])\n* **wantedby**: Array, this has the effect that a dependency of type **Wants=** is added from the listed unit to the current unit (default: ['multi-user.target'])\n* **requiredby**: Array, this has the effect that a dependency of type **Requires=** is added from the listed unit to the current unit (default: [])\n* **permissions_start_only**: If **true**, the permission-related execution options, as configured with User= and similar options, are only applied to the process started with ExecStart=, and not to the various other ExecStartPre=, ExecStartPost=, ExecReload=, ExecStop=, and ExecStopPost= commands. If **false**, the setting is applied to all configured commands the same way (default: false)\n* **execstartpre**: Additional commands that are executed before the command in ExecStart= Syntax is the same as for ExecStart=, except that multiple command lines are allowed and the commands are executed one after the other, serially. (default: undef)\n* **timeoutstartsec**:Configures the time to wait for start-up. If a daemon service does not signal start-up completion within the configured time, the service will be considered failed and will be shut down again. Takes a unit-less value in seconds, or a time span value such as \"5min 20s\". Pass \"infinity\" to disable the timeout logic (default: undef)\n* **timeoutstopsec**: Configures the time to wait for stop. If a service is asked to stop, but does not terminate in the specified time, it will be terminated forcibly via SIGTERM, and after another timeout of equal duration with SIGKILL. Takes a unit-less value in seconds, or a time span value such as \"5min 20s\". Pass \"infinity\" to disable the timeout logic. (default: undef)\n* **timeoutsec**: A shorthand for configuring both **TimeoutStartSec=** and **TimeoutStopSec=** to the specified value. (default: undef)\n* **restart_prevent_exit_status**: Takes a list of exit status definitions that, when returned by the main service process, will prevent automatic service restarts, regardless of the restart setting configured with Restart=. Exit status definitions can either be numeric exit codes or termination signal names, and are separated by spaces. Defaults to the empty list, so that, by default, no exit status is excluded from the configured restart logic. For example: **RestartPreventExitStatus=1 6 SIGABRT** ensures that exit codes 1 and 6 and the termination signal SIGABRT will not result in automatic service restarting. This option may appear more than once, in which case the list of restart-preventing statuses is merged. If the empty string is assigned to this option, the list is reset and all prior assignments of this option will have no effect. (default: undef)\n* **limit_nofile**: Limit number of File Descriptors *ulimit -n* Resource limits may be specified in two formats: either as single value to set a specific soft and hard limit to the same value, or as colon-separated pair soft:hard to set both limits individually (default: undef)\n* **limit_nproc**: Limit max number of processes *ulimit -u* Resource limits may be specified in two formats: either as single value to set a specific soft and hard limit to the same value, or as colon-separated pair soft:hard to set both limits individually (default: undef)\n* **limit_nice**: Nice level (default: undef)\n* **runtime_directory**: Takes a list of directory names. If set, one or more directories by the specified names will be created below /run (for system services) or below $XDG_RUNTIME_DIR (for user services) when the unit is started, and removed when the unit is stopped. The directories will have the access mode specified in RuntimeDirectoryMode=, and will be owned by the user and group specified in User= and Group=. Use this to manage one or more runtime directories of the unit and bind their lifetime to the daemon runtime. The specified directory names must be relative, and may not include a \"/\", i.e. must refer to simple directories to create or remove. This is particularly useful for unprivileged daemons that cannot create runtime directories in /run due to lack of privileges, and to make sure the runtime directory is cleaned up automatically after use (default: undef)\n* **runtime_directory_mode**: Directory mode for **runtime_directory** (default: undef)\n* **restart_sec**: Configures the time to sleep before restarting a service in seconds (default: undef)\n* **private_tmp**: If true, sets up a new file system namespace for the executed processes and mounts private /tmp and /var/tmp directories inside it that is not shared by processes outside of the namespace. This is useful to secure access to temporary files of the process, but makes sharing between processes via /tmp or /var/tmp impossible. If this is enabled, all temporary files created by a service in these directories will be removed after the service is stopped (default: false)\n* **working_directory**: Takes a directory path relative to the service's root directory specified by RootDirectory= (default: undef)\n* **root_directory**: Sets the root directory for executed processes, with the chroot(2) system call (default: undef)\n* **environment_files**: Similar to **env_vars** but reads the environment variables from a text file. The text file should contain new-line-separated variable assignments. Empty lines, lines without an \"=\" separator, or lines starting with ; or # will be ignored, which may be used for commenting. A line ending with a backslash will be concatenated with the following one, allowing multiline variable definitions (default: undef)\n* **umask**: Controls the file mode creation mask. Takes an access mode in octal notation. (default: 0022)\n* **nice**: Sets the default nice level (scheduling priority) for executed processes. Takes an integer between -20 *highest priority* and 19 *lowest priority* (default: undef)\n* **oom_score_adjust**: Sets the adjustment level for the **Out-Of-Memory killer** for executed processes. Takes an integer between -1000 *to disable OOM killing* and 1000 *to make killing of this process under memory pressure very likely* (default: undef)\n\n\n#### systemd::sysvwrapper\n\nsystem-v compatibility\n\n* **initscript**: requred (system-v init script to use)\n* **servicename**: service name (default: resource's name)\n* **check_time**: check interval -time between **initscript** status checks- (default: 10m)\n\n## Limitations\n\nShould work anywhere, tested on CentOS 7 and Ubuntu 16\n\n## Development\n\nWe are pushing to have acceptance testing in place, so any new feature should\nhave some test to check both presence and absence of any feature\n\n### Contributing\n\n1. Fork it\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Added some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create new Pull Request\n",
    //    "changelog": "# CHANGELOG\n\n## 0.1.22\n\n* added to **systemd::service**\n  * environment_files - thanks to **oOHenry** for this PR\n  * umask\n  * nice\n  * oom_score_adjust\n\n## 0.1.21\n\n* added SLES12 support\n* added to **systemd::service**:\n  * working_directory\n  * root_directory\n\n## 0.1.20\n\n* added to **systemd::service**:\n  * restart_sec\n  * private_tmp\n  * limit_nproc\n  * limit_nice\n* enhanced restart validation\n\n## 0.1.19\n\n* added service variables:\n  * permissions_start_only\n  * execstartpre\n  * timeoutstartsec\n  * timeoutstopsec\n  * timeoutsec\n  * restart_prevent_exit_status\n  * limit_nofile\n  * runtime_directory\n  * runtime_directory_mode\n\n## 0.1.18\n\n* added service ordering variables:\n  * wants\n  * before\n  * after\n  * requires\n  * conflicts\n* added **wantedby** and **requiredby**\n\n## 0.1.17\n\n* added **env_vars** - thanks to **dzmitryv** for this PR\n* added options:\n  * after\n  * remain_after_exit\n  * type\n  * execreload\n\n## 0.1.16\n\n* added description\n* added Ubuntu 16.04\n\n## 0.1.14\n\n* added **eyp_systemd_available** fact\n* added configurable check time for sysv wrapper\n\n## 0.1.12\n\n* added sysvwrapper for sysv init scripts without PIDFILE\n\n## 0.1.11\n\n*  pidfile for systemd::service\n\n## 0.1.10\n\n* support for Ubuntu 16.04 and Debian 8\n",
    //    "license": null,
    //    "created_at": "2017-02-09 02:35:01 -0800",
    //    "updated_at": "2017-02-09 02:36:02 -0800",
    //    "deleted_at": null,
    //    "deleted_for": null
    
    public ForgeModule()
    {
    	this.created_at=new Date();
    	this.updated_at=new Date();
    }
    
    public ForgeModule(String name)
    {
    	this.created_at=new Date();
    	this.updated_at=new Date();
    	
    	this.setName(name);
    }
    
    public void setName(String name)
    {
    	this.name=name;
    	this.uri="/v3/modules/"+name;
    }

}
